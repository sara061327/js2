{"filter":false,"title":"main.js","tooltip":"/Javascript2/main.js","undoManager":{"mark":23,"position":23,"stack":[[{"start":{"row":0,"column":0},"end":{"row":32,"column":6},"action":"remove","lines":["<div class=\"wrapper\">","  <h1 id=\"header\">電卓</h1>","  <div id=\"calc\">","    <div>","      <input readonly id=\"result\" type=\"text\" value=\"0\">","      <button onclick=\"c_click()\">C</button>","    </div>","    <div>","      <button onclick=\"num_click(this.innerHTML)\">7</button>","      <button onclick=\"num_click(this.innerHTML)\">8</button>","      <button onclick=\"num_click(this.innerHTML)\">9</button>","      <button onclick=\"ope_click(this.innerHTML)\">÷</button>","    </div>","    <div>","      <button onclick=\"num_click(this.innerHTML)\">4</button>","      <button onclick=\"num_click(this.innerHTML)\">5</button>","      <button onclick=\"num_click(this.innerHTML)\">6</button>","      <button onclick=\"ope_click(this.innerHTML)\">×</button>","    </div>","    <div>","      <button onclick=\"num_click(this.innerHTML)\">1</button>","      <button onclick=\"num_click(this.innerHTML)\">2</button>","      <button onclick=\"num_click(this.innerHTML)\">3</button>","      <button onclick=\"ope_click(this.innerHTML)\">-</button>","    </div>","    <div>","      <button onclick=\"num_click(this.innerHTML)\">0</button>","      <button onclick=\"num_click(this.innerHTML)\">.</button>","      <button onclick=\"equal_click()\">=</button>","      <button onclick=\"ope_click(this.innerHTML)\">+</button>","    </div>","  </div>","</div>"],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":["// データ","var result = \"\";","// =で計算したかどうか","var is_calc = false;","","// 初期表示","window.onload = function () {","  result = document.getElementById('result');","};","","// Cキー押下","function c_click(){","  result.value = \"0\";","  is_calc = false;","}"],"id":3}],[{"start":{"row":14,"column":1},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":15,"column":0},"end":{"row":30,"column":1},"action":"insert","lines":["","// 数字キー押下","function num_click(val){","  if(is_calc)  result.value = \"0\";","  is_calc = false;  ","","  if(result.value ==\"0\" && val == \"0\"){","    result.value = \"0\";","  }else if(result.value == \"0\" && val == \".\"){","    result.value = \"0.\";","  }else if(result.value == \"0\"){","    result.value = val;","  }else{","    result.value += val;","  }","}"],"id":5}],[{"start":{"row":30,"column":1},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":6}],[{"start":{"row":31,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["","// 演算子キー押下","function ope_click(val){","  if(is_calc)  is_calc = false;","  ","  if(is_ope_last()){","    result.value = result.value.slice(0, -1) + val;","  } else {","    result.value += val;","  }","}",""],"id":7}],[{"start":{"row":42,"column":0},"end":{"row":59,"column":1},"action":"insert","lines":["","// =キークリック","function equal_click(){","  if(is_ope_last())  result.value = result.value.slice(0, -1);","","  var temp = new Function(\"return \" + result.value.replaceAll(\"×\", \"*\").replaceAll(\"÷\", \"/\"))();","  if(temp == Infinity || Number.isNaN(temp)){","    result.value = \"Error\";","  }else{","    result.value = temp;","    is_calc = true;","  }","}","","// 入力されている値が演算子かどうか","function is_ope_last(){","  return [\"+\",\"-\",\"×\",\"÷\"].includes(result.value.toString().slice(-1));","}"],"id":8}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":13},"action":"remove","lines":["// =で計算したかどうか"],"id":9},{"start":{"row":1,"column":16},"end":{"row":2,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":6},"action":"remove","lines":["// データ"],"id":10},{"start":{"row":3,"column":0},"end":{"row":4,"column":7},"action":"remove","lines":["","// 初期表示"]}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":8},"action":"remove","lines":["// Cキー押下"],"id":11},{"start":{"row":7,"column":0},"end":{"row":8,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":13,"column":0},"end":{"row":13,"column":9},"action":"remove","lines":["// 数字キー押下"],"id":12},{"start":{"row":12,"column":0},"end":{"row":13,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":27,"column":0},"end":{"row":28,"column":10},"action":"remove","lines":["","// 演算子キー押下"],"id":13}],[{"start":{"row":38,"column":0},"end":{"row":38,"column":10},"action":"remove","lines":["// =キークリック"],"id":14}],[{"start":{"row":51,"column":1},"end":{"row":51,"column":19},"action":"remove","lines":["/ 入力されている値が演算子かどうか"],"id":15},{"start":{"row":51,"column":0},"end":{"row":51,"column":1},"action":"remove","lines":["/"]},{"start":{"row":50,"column":0},"end":{"row":51,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"remove","lines":["r"],"id":16},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"remove","lines":["a"]},{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"remove","lines":["v"]}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"insert","lines":["k"],"id":17},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"insert","lines":["e"]},{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"insert","lines":["y"]}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"remove","lines":["y"],"id":18},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"remove","lines":["e"]},{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"remove","lines":["k"]}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"insert","lines":["k"],"id":19},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"insert","lines":["e"]},{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"insert","lines":["t"]}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"remove","lines":["t"],"id":20},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"remove","lines":["e"]},{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"remove","lines":["k"]}],[{"start":{"row":1,"column":0},"end":{"row":1,"column":1},"action":"insert","lines":["l"],"id":21},{"start":{"row":1,"column":1},"end":{"row":1,"column":2},"action":"insert","lines":["e"]},{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"insert","lines":["t"]}],[{"start":{"row":2,"column":2},"end":{"row":2,"column":3},"action":"remove","lines":["r"],"id":22},{"start":{"row":2,"column":1},"end":{"row":2,"column":2},"action":"remove","lines":["a"]},{"start":{"row":2,"column":0},"end":{"row":2,"column":1},"action":"remove","lines":["v"]}],[{"start":{"row":2,"column":0},"end":{"row":2,"column":1},"action":"insert","lines":["l"],"id":23},{"start":{"row":2,"column":1},"end":{"row":2,"column":2},"action":"insert","lines":["e"]},{"start":{"row":2,"column":2},"end":{"row":2,"column":3},"action":"insert","lines":["t"]}],[{"start":{"row":42,"column":4},"end":{"row":42,"column":5},"action":"remove","lines":["r"],"id":24},{"start":{"row":42,"column":3},"end":{"row":42,"column":4},"action":"remove","lines":["a"]},{"start":{"row":42,"column":2},"end":{"row":42,"column":3},"action":"remove","lines":["v"]},{"start":{"row":42,"column":0},"end":{"row":42,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":42,"column":0},"end":{"row":42,"column":1},"action":"insert","lines":["l"],"id":25},{"start":{"row":42,"column":1},"end":{"row":42,"column":2},"action":"insert","lines":["e"]},{"start":{"row":42,"column":2},"end":{"row":42,"column":3},"action":"insert","lines":["t"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":3,"column":0},"end":{"row":3,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1694946443490,"hash":"ae7c2e473aa516dc8089f17bced91e4273230f56"}